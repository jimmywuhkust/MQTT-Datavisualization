<!DOCTYPE html>
<html lang="en">
<head>
    <title>Data Visualization</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/p5.min.js"></script>
    <script src="https://unpkg.com/p5.js-svg@1.5.1"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.7.1/addons/p5.dom.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mqtt/4.2.7/mqtt.min.js"></script>
    <script src="react.js"></script>
    <script src="mqtt.js"></script>
    <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
    <div class="Main">
        <div class="Time">time</div>
        <div class="Date">date</div>
        <div class="Datastream">
            <iframe id="stream" src="p5js.html" width="110%" height="110%" style="border:none;"></iframe>
        </div>
        <div class="Rectangle"></div>
        <div class="WaterConsumption">Water Consumption</div>
        <div class="Drop">
            <svg xmlns="http://www.w3.org/2000/svg" width="161" height="199" viewBox="0 0 161 199" fill="none">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M77.5038 97.3497L81.2351 103.624C85.3347 111.693 69.3046 126.021 77.5039 121.987C85.7031 117.952 93.9023 97.3497 102.102 97.3497C110.301 97.3497 118.5 117.952 126.699 115.935C134.898 113.918 135.029 109.379 139.129 95.2583L152.224 99.4411L154.291 117.393L147.197 156.297L144.025 161.79C139.925 161.79 134.898 166.367 126.699 166.367C118.5 166.367 110.301 166.367 102.102 166.367C93.9023 166.367 95.6372 161.79 87.438 161.79C83.8018 160.417 85.3347 153.121 81.2351 153.121L76.4106 142.664L77.5038 97.3497Z" fill="#729BB7"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M8.05005 99.0971L10.8331 106.905C16.6523 117.524 28.2907 138.763 39.9291 133.453C51.5675 128.144 60.1698 96.5985 71.8081 96.5985C83.4465 96.5985 98.121 128.144 109.759 125.489C121.398 122.834 133.036 85.667 138.855 67.0835L142.246 76.8103L148.925 127.407L136.173 172.494L125.243 181.529C119.424 181.529 117.451 191.859 105.812 191.859C94.1741 191.859 86.4826 191.859 74.8442 191.859C63.2058 191.859 56.7288 187.553 45.0905 187.553C39.9291 185.746 35.1219 178.607 29.3027 178.607L18.98 166.471L8.05005 99.0971Z" fill="#C4E7FF"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M17.4419 112.301L26.5306 116.547C32.3373 127.242 47.9396 138.386 59.5529 133.039C71.1663 127.691 79.75 95.9224 91.3634 95.9224C102.977 95.9224 117.62 127.691 129.233 125.018C140.846 122.344 135.848 101.899 141.654 83.1833L144.684 103.202L148.925 127.467L141.654 156.584L136.807 168.717C131 168.717 132.667 182.669 121.053 182.669C109.44 182.669 106.006 191.858 94.393 191.858C82.7796 191.858 76.3165 187.522 64.7032 187.522C59.5529 185.702 54.7561 178.513 48.9494 178.513L38.6489 166.29L17.4419 144.452V112.301Z" fill="#AADDFF" fill-opacity="0.47"/>
                <path d="M80.5 198.567C59.201 198.567 40.458 191.106 24.2708 176.186C8.08355 161.265 -0.00670417 141.069 4.16839e-06 115.599C4.16839e-06 99.5784 6.03751 82.2091 18.1125 63.4907C30.1875 44.7723 48.4677 24.5363 72.9531 2.78246C73.9594 1.93929 75.1333 1.26476 76.475 0.758854C77.8167 0.252952 79.1583 0 80.5 0C81.8417 0 83.1833 0.252952 84.525 0.758854C85.8667 1.26476 87.0406 1.93929 88.0469 2.78246C112.532 24.5363 130.813 44.7723 142.888 63.4907C154.963 82.2091 161 99.5784 161 115.599C161 141.062 152.906 161.258 136.719 176.186C120.532 191.113 101.792 198.573 80.5 198.567ZM80.5 178.331C97.4385 178.331 111.737 172.513 123.396 160.877C135.056 149.241 140.882 134.148 140.875 115.599C140.875 103.626 135.928 89.9225 126.033 74.4891C116.138 59.0557 100.96 41.8988 80.5 23.0186C60.0396 41.9056 44.862 59.0658 34.9672 74.4992C25.0724 89.9326 20.125 103.632 20.125 115.599C20.125 134.148 25.9545 149.241 37.6136 160.877C49.2727 172.513 63.5682 178.331 80.5 178.331ZM83.2672 168.213C85.2797 168.044 87.0004 167.241 88.4293 165.804C89.8581 164.368 90.5692 162.641 90.5625 160.624C90.5625 158.263 89.8078 156.364 88.2984 154.928C86.7891 153.491 84.8604 152.86 82.5125 153.035C75.6365 153.541 68.3411 151.643 60.6266 147.339C52.912 143.035 48.0484 135.238 46.0359 123.946C45.7005 122.091 44.8217 120.573 43.3996 119.393C41.9774 118.213 40.3406 117.622 38.4891 117.622C36.1412 117.622 34.2125 118.509 32.7031 120.283C31.1938 122.057 30.6906 124.121 31.1938 126.476C34.0448 141.821 40.7531 152.783 51.3188 159.359C61.8844 165.936 72.5339 168.887 83.2672 168.213Z" fill="#0099FF"/>
            </svg>
        </div>
        <span class="Numofbotte"> x <span id="bottenum0"> 0</span></div>
        <div class="Capacity">500mL</div>
        <div class="Bottle">
            <svg xmlns="http://www.w3.org/2000/svg" width="40" height="99" viewBox="0 0 40 99" fill="none">
                <path d="M9.47367 31.5791H32.6316V92.6317H7.36841L9.47367 31.5791Z" fill="#6CC4FF" stroke="#6CC4FF"/>
                <path d="M10 0V9.89474H14.55C13.25 18.7505 5 27.2105 0 34.6316V58.2305C1.55823 59.6252 2.80371 61.3276 3.65612 63.2279C4.50852 65.1282 4.94894 67.1841 4.94894 69.2632C4.94894 71.3422 4.50852 73.3981 3.65612 75.2984C2.80371 77.1987 1.55823 78.9011 0 80.2958V89.0526C0 91.6769 1.05357 94.1936 2.92893 96.0493C4.8043 97.9049 7.34784 98.9474 10 98.9474H30C35.55 98.9474 40 94.5442 40 89.0526V80.2958C38.4418 78.9011 37.1963 77.1987 36.3439 75.2984C35.4915 73.3981 35.0511 71.3422 35.0511 69.2632C35.0511 67.1841 35.4915 65.1282 36.3439 63.2279C37.1963 61.3276 38.4418 59.6252 40 58.2305V34.6316C35 27.2105 26.75 18.7505 25.45 9.89474H30V0M20 22.2632C21.2 24.7368 27.7 32.1579 29.5 34.1863L30 34.6316V54.4211C26.75 58.7253 25 63.92 25 69.2632C25 74.6063 26.75 79.801 30 84.1053V89.0526H10V84.1053C13.25 79.801 15 74.6063 15 69.2632C15 63.92 13.25 58.7253 10 54.4211V34.6316L10.5 34.1863C12.3 32.1579 18.8 24.7368 20 22.2632Z" fill="#0099FF"/>
            </svg>
        </div>
        <div class="Systemmessage">The water you have used can fill <span id="bottenum1"> 0 </span> bottles</div>
    </div>
    <script>
        let date = get_date();
        let time = get_time();
        let bottles = get_bottle();

        function updateVariable() {
            bottles = get_bottle();
            date = get_date();
            time = get_time();
            document.getElementsByClassName("Date")[0].textContent = date;
            document.getElementsByClassName("Time")[0].textContent = time;
            document.getElementById("bottenum0").textContent = bottles;
            document.getElementById("bottenum1").textContent = bottles;
        }

        

        setInterval(updateVariable, 3000);
    </script>
</body>
</html>
